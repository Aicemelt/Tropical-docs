# TropiCal 개념 ERD 명세서

본 문서는 **TropiCal 플랫폼**의 비즈니스 요구사항을 엔티티와 관계로 표현한 **개념적 데이터 모델 명세서**입니다.

**작성자:** [백승현](https://github.com/Sirosho)

**문서 버전:** v1.0

**최종 수정일:** 2025.09.20

**대상 독자:**
- **기획자/PM**: 비즈니스 요구사항과 데이터 구조의 일치성 검토
- **개발자**: 시스템 설계 시 비즈니스 도메인 이해
- **QA**: 테스트 시나리오 설계를 위한 도메인 이해
- **신규 합류자**: TropiCal 플랫폼의 비즈니스 모델 이해

---

## 1. 개요

### 1.1. 문서 목적
본 명세서는 TropiCal 플랫폼의 핵심 비즈니스 개념과 이들 간의 관계를 정의하여, 모든 이해관계자가 동일한 관점에서 시스템을 이해할 수 있도록 합니다.


---

## 2. 핵심 도메인 개념

### 2.1. 주요 엔티티 개요

| 엔티티 | 비즈니스 개념 | 핵심 역할 |
|--------|---------------|-----------|
| **사용자(User)** | 서비스 이용자 | 모든 개인화 기능의 중심 |
| **일정(Schedule)** | 시간 기반 계획 | 사용자의 시간 관리 |
| **일기(Diary)** | 감정과 경험 기록 | 개인적 성찰과 감정 추적 |
| **할일(Todo)** | 완료 목표 작업 | 단기 목표 관리 |
| **버킷리스트(BucketList)** | 장기 목표 | 인생 목표 관리 |
| **스몰토크주제(SmallTalkTopic)** | AI 생성 대화소재 | 소통 활성화 도구 |
| **공휴일(Holiday)** | 공식 휴일 정보 | 일정 관리 보조 |
| **약관(TermsAndPolicies)** | 서비스 규정 | 법적/정책적 기준 |

### 2.2. 지원 엔티티

| 엔티티 | 역할 | 관련 도메인 |
|--------|------|-------------|
| **소셜계정(SocialAccount)** | 외부 계정 연동 | 사용자 인증 |
| **사용자동의(UserConsent)** | 개인화 동의 관리 | 개인정보 보호 |
| **주제출처(SmallTalkSources)** | AI 추천 근거 추적 | 투명성 보장 |

---

## 3. 엔티티 상세 명세

### 3.1. 사용자(User)
**비즈니스 정의:** TropiCal 서비스를 이용하는 개인

**핵심 속성:**
- 신원 정보: 이메일, 닉네임
- 계정 유형: 로컬/소셜 구분
- 개인화 설정: 시간대, 캘린더 설정
- 알림 선호도: 각종 알림 활성화 여부

**비즈니스 규칙:**
- 모든 개인 데이터는 특정 사용자에게 귀속됨
- 사용자별 개인화된 경험 제공
- 개인정보 보호 규정 준수 필수

### 3.2. 일정(Schedule)
**비즈니스 정의:** 사용자가 특정 시간에 수행할 계획된 활동

**핵심 속성:**
- 시간 정보: 날짜, 시작/종료 시간
- 내용 정보: 제목, 메모, 장소
- 참여자 정보: 함께 참여하는 사람들
- 완료 상태: 일정 실행 여부

**비즈니스 규칙:**
- 시간 기반 구조화된 계획 관리
- AI 주제 추천의 기본 데이터로 활용
- 공휴일 정보와 연계하여 스마트한 일정 관리

### 3.3. 일기(Diary)
**비즈니스 정의:** 사용자의 일상적 경험과 감정을 기록한 개인적 문서

**핵심 속성:**
- 내용: 제목, 본문
- 감정 정보: 당일의 감정 상태
- 환경 정보: 날씨 상황
- 작성 날짜: 경험한 날짜

**비즈니스 규칙:**
- 개인적이고 사적인 기록
- 감정 패턴 분석 가능
- 사용자 동의 시에만 AI 분석에 활용

### 3.4. 할일(Todo)
**비즈니스 정의:** 사용자가 완료해야 할 구체적인 작업 또는 목표

**핵심 속성:**
- 작업 내용: 수행할 일의 구체적 설명
- 마감일: 완료 목표 시점
- 완료 상태: 달성 여부

**비즈니스 규칙:**
- 단기적이고 실행 가능한 목표
- 마감일 기반 우선순위 관리
- 완료 시 성취감과 동기부여 제공

### 3.5. 버킷리스트(BucketList)
**비즈니스 정의:** 사용자가 인생에서 이루고 싶은 장기적 목표나 경험

**핵심 속성:**
- 목표 내용: 이루고 싶은 것의 설명
- 달성 상태: 완료 여부

**비즈니스 규칙:**
- 장기적이고 의미 있는 목표
- 개인의 가치관과 꿈을 반영
- 인생의 방향성과 동기 제공

### 3.6. 스몰토크주제(SmallTalkTopic)
**비즈니스 정의:** AI가 사용자의 활동 데이터를 분석하여 생성한 일상 대화 소재

**핵심 속성:**
- 주제 유형: 일상적/관심사/창의적 등
- 주제 내용: 구체적인 대화 주제
- 예시 질문: 대화 시작을 위한 질문

**비즈니스 규칙:**
- 사용자의 실제 경험 기반 생성
- 자연스럽고 개인적인 대화 유도
- 개인정보 보호를 위한 추상화 처리

### 3.7. 공휴일(Holiday)
**비즈니스 정의:** 국가에서 공식적으로 지정한 휴일 및 기념일

**핵심 속성:**
- 국가 코드: 해당 국가
- 기간: 시작일과 종료일
- 명칭: 공휴일 이름
- 유형: 일반/대체 공휴일 구분

**비즈니스 규칙:**
- 일정 관리 시 참고 정보 제공
- 국가별 다른 공휴일 체계 지원
- 업무/개인 일정 구분에 활용

### 3.8. 약관정책(TermsAndPolicies)
**비즈니스 정의:** 서비스 이용을 위한 법적 규정과 정책

**핵심 속성:**
- 약관 유형: 이용약관/개인정보처리방침 등
- 버전 정보: 개정 이력 관리
- 내용: 구체적인 약관 조항
- 시행일: 적용 시작 시점

**비즈니스 규칙:**
- 법적 요구사항 준수
- 사용자 권리와 의무 명시
- 버전 관리를 통한 변경 이력 추적

---

## 4. 관계 명세

### 4.1. 핵심 관계

#### 사용자 중심 관계
- **사용자 ↔ 일정**: 1:N (한 사용자는 여러 일정을 가짐)
- **사용자 ↔ 일기**: 1:N (한 사용자는 여러 일기를 작성)
- **사용자 ↔ 할일**: 1:N (한 사용자는 여러 할일을 관리)
- **사용자 ↔ 버킷리스트**: 1:N (한 사용자는 여러 버킷리스트를 가짐)
- **사용자 ↔ 스몰토크주제**: 1:N (한 사용자는 여러 주제를 받음)

#### 인증 및 동의 관계
- **사용자 ↔ 소셜계정**: 1:N (한 사용자는 여러 소셜 계정 연동 가능)
- **사용자 ↔ 사용자동의**: 1:N (한 사용자는 여러 약관에 동의)

#### AI 추천 관계
- **스몰토크주제 ↔ 주제출처**: 1:N (한 주제는 여러 데이터 소스 기반)
- **주제출처 ↔ [일정/일기/할일/버킷리스트]**: N:1 (여러 출처가 각 데이터 참조)

### 4.2. 참조 관계
- **사용자동의 ↔ 약관정책**: N:1 (여러 동의가 하나의 약관 참조)
- **일정관리 ↔ 공휴일**: 참조 관계 (일정 수립 시 공휴일 정보 활용)

---

## 5. 비즈니스 프로세스 흐름

### 5.1. 사용자 여정
```
회원가입 → 약관동의 → 온보딩 → 개인화설정
    ↓
일상기록(일정/일기/할일/버킷리스트 작성)
    ↓
AI 데이터분석 → 스몰토크주제 생성 → 대화활용
```

### 5.2. 데이터 활용 흐름
```
사용자활동데이터 → 동의범위확인 → AI분석 → 개인화추천
```

### 5.3. 개인정보 보호 흐름
```
데이터수집 → 사용자동의확인 → 목적범위내활용 → 투명성보장
```

---

## 6. 비즈니스 규칙 요약

### 6.1. 데이터 소유권
- 모든 개인 데이터는 해당 사용자에게 완전히 귀속
- 사용자는 언제든 자신의 데이터를 조회, 수정, 삭제 가능

### 6.2. 개인화 서비스
- AI 추천은 사용자의 명시적 동의 하에서만 실행
- 동의 철회 시 즉시 개인화 서비스 중단

### 6.3. 데이터 품질
- 사용자 입력 데이터의 정확성과 완전성 보장
- AI 생성 콘텐츠의 적절성과 유용성 확보

### 6.4. 투명성
- AI 추천의 근거가 되는 데이터 소스 추적 가능
- 사용자는 추천 로직의 기반 데이터 확인 가능

---

## 7. 향후 확장 고려사항

### 7.1. 소셜 기능
- 사용자 간 스몰토크 주제 공유
- 공개 버킷리스트 및 동기부여 커뮤니티

### 7.2. 고도화된 AI
- 더 정교한 감정 분석 및 패턴 인식
- 개인별 맞춤형 목표 설정 지원

### 7.3. 통합 서비스
- 외부 캘린더/일정 관리 도구 연동
- 웨어러블 기기 데이터 활용

이 개념 ERD는 TropiCal 플랫폼의 비즈니스 본질을 담고 있으며, 향후 기능 확장 시에도 일관된 도메인 모델 기반으로 발전할 수 있는 기초를 제공합니다.